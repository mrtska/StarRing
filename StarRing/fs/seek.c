/*[Module ]Copyright(c) 2015 mrtska.starringThis software is released under the MIT License.http://opensource.org/licenses/mit-license.phpCreated on: 2015/01/28*/#include <system.h>#include <fs/seek.h>#include <fs/vfs.h>unsigned long lseek(unsigned int fd, unsigned long offset, unsigned int whence) {	kprintf("[kernel/lseek] fd %d, offset %X, whence %d\n", fd, offset, whence);	struct fs_node *node = get_node(fd);	switch(whence) {	case SEEK_SET:		node->seek = offset;		break;	case SEEK_CUR:		node->seek += offset;		break;	case SEEK_END:		node->seek = node->length;		break;	default:		kprintf("[kernel/lseek] unknown whence %d   l%d\n", whence, __LINE__);		return -1;	}	return node->seek;}